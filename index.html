<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Chris Chen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Chris Chen&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Chris Chen&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Chris Chen">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Chris Chen's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="https://assets.imedao.com/images/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Chris Chen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">welcome to my blog</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-python/pipx_5" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/14/python/pipx_5/" class="article-date">
  <time class="dt-published" datetime="2021-09-14T21:12:38.000Z" itemprop="datePublished">2021-09-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/14/python/pipx_5/">pipx æºç è§£æã€5ã€‘- pipx inject</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="pipx-inject"><a href="#pipx-inject" class="headerlink" title="pipx inject"></a>pipx inject</h2><p><code>pipx inject</code> å‘½ä»¤ç”¨ä¼šå¾€å­˜åœ¨çš„è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…æŒ‡å®šçš„åŒ…ã€‚è¯­æ³•æ˜¯ <code>pipx inject abc --dependencies depA depB</code>ã€‚è¿™ä¸ªå‘½ä»¤ä¼šæŠŠ <code>depA</code> å’Œ <code>depB</code> å®‰è£…åˆ°å·²ç»å­˜åœ¨çš„ <code>abc</code> è™šæ‹Ÿç¯å¢ƒä¸­ã€‚</p>
<h2 id="inject-py"><a href="#inject-py" class="headerlink" title="inject.py"></a>inject.py</h2><p>å’Œä¹‹å‰çš„å‘½ä»¤ä¸€æ ·ï¼Œinject ä¼šè°ƒç”¨ <code>command/inject.py</code> æ¨¡å—ã€‚æœ€ç»ˆè°ƒç”¨çš„æ˜¯ <code>inject_dep</code> æ–¹æ³•:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">all_success = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> dep <span class="keyword">in</span> package_specs:</span><br><span class="line">        all_success &amp;= inject_dep(</span><br><span class="line">            venv_dir,</span><br><span class="line">            <span class="literal">None</span>,</span><br><span class="line">            dep,</span><br><span class="line">            pip_args,</span><br><span class="line">            verbose=verbose,</span><br><span class="line">            include_apps=include_apps,</span><br><span class="line">            include_dependencies=include_dependencies,</span><br><span class="line">            force=force,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> EXIT_CODE_OK <span class="keyword">if</span> all_success <span class="keyword">else</span> EXIT_CODE_INJECT_ERROR</span><br></pre></td></tr></table></figure>

<p><code>inject_dep</code> åšäº†å¦‚ä¸‹å‡ æ­¥ï¼š</p>
<ol>
<li>åˆ¤æ–­ <code>inject</code> çš„ç›®æ ‡è™šæ‹Ÿç¯å¢ƒæ˜¯å¦å­˜åœ¨ã€‚</li>
<li>è¿è¡Œ <code>venv.install_package</code> å®‰è£… app</li>
<li>å¦‚æœä¸Šé¢éƒ½æ²¡æœ‰å‡ºé”™ï¼Œåˆ™æ‰§è¡Œ <code>run_post_install_actions</code> æ–¹æ³•å¤„ç†å®‰è£…åçš„æ”¶å°¾å·¥ä½œï¼Œå¦‚æœæœ‰ä¸€æ­¥æŠ¥é”™ï¼Œåˆ™æ‰§è¡Œ <code>venv.remove_venv</code> åˆ é™¤è™šæ‹Ÿç›®å½•ã€‚</li>
</ol>
<p>è¿™é‡Œçš„ 2ï¼Œ3 ä¸¤æ­¥åœ¨ä¸Šä¸€ç¯‡çš„ <code>pipx install</code> å‘½ä»¤å·²ç»å­¦ä¹ è¿‡äº†ï¼Œæ‰€ä»¥ä»è¿™ä¸ªå±‚é¢çœ‹ï¼Œinject å’Œ install çš„å·®åˆ«åªæ˜¯ inject ä¼šæŒ‡å®šä¸€ä¸ªå­˜åœ¨çš„è™šæ‹Ÿç›®å½•ï¼Œè€Œ install æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>venv</code></p>
<p>inject å‘½ä»¤ä¸å¤æ‚ï¼Œæ‰€æ¶‰åŠçš„çŸ¥è¯†ç‚¹ä¹ŸåŸºæœ¬ä¸Šåœ¨ä¹‹å‰ <code>install</code> å’Œ <code>run</code> ä¸¤ä¸ªå‘½ä»¤ä¸­æåˆ°è¿‡äº†ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/14/python/pipx_5/" data-id="ckz1glx9b0024a7n929l62eb2" data-title="pipx æºç è§£æã€5ã€‘- pipx inject" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/venv/" rel="tag">venv</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python/pipx_4" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/06/python/pipx_4/" class="article-date">
  <time class="dt-published" datetime="2021-09-06T20:12:38.000Z" itemprop="datePublished">2021-09-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/06/python/pipx_4/">pipx æºç è§£æã€4ã€‘- pipx install</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ç”¨-pipx-å®‰è£…-app"><a href="#ç”¨-pipx-å®‰è£…-app" class="headerlink" title="ç”¨ pipx å®‰è£… app"></a>ç”¨ pipx å®‰è£… app</h2><p>ä¸Šä¸€ç¯‡å­¦ä¹ äº† <code>run</code> å‘½ä»¤, è¿™ä¸€ç¯‡ä¸»è¦å­¦ä¹ ä¸‹ <code>install</code> å‘½ä»¤çš„éƒ¨åˆ†, ä½ç½®åœ¨ <code>src/pipx/commands/install.py</code></p>
<p>è¿™éƒ¨åˆ†çš„ä»£ç ç›¸å¯¹è¾ƒç›´æ¥ï¼Œä»æ•´ä¸ª <code>install</code> å‡½æ•°çœ‹ä¸»è¦åˆ†å¦‚ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>ä» <code>package_spec</code> è§£æå‡º app çš„ <code>package_name</code></li>
<li>è·å– <code>venv</code> è·¯å¾„ã€‚å‡è®¾æˆ‘ä»¬çš„ app åå­—æ˜¯ <code>cowsay</code>, è·å–çš„ <code>venv_dir</code> è·¯å¾„å°±æ˜¯ <code>~/.local/pipx/venvs/cowsay</code></li>
<li>åˆ¤æ–­ <code>venv_dir</code> æ˜¯å¦å·²ç»å­˜åœ¨</li>
<li>å¦‚æœå·²ç»å­˜åœ¨ï¼Œä¸”æœ‰ <code>force</code> é€‰é¡¹ï¼Œåˆ™æç¤ºç”¨æˆ· <code>venv</code> ç›®å½•å·²ç»å­˜åœ¨ï¼Œå®‰è£…å°†è¦†ç›–åŸæœ‰ç›®å½•å†…å®¹ã€‚å¦‚æœæ²¡æœ‰ <code>force</code> é€‰é¡¹ï¼Œåˆ™æç¤ºç”¨æˆ·åé€€å‡ºç¨‹åº</li>
<li>è¿è¡Œ <code>venv.create_venv</code> åˆ›å»ºè™šæ‹Ÿç›®å½•</li>
<li>è¿è¡Œ <code>venv.install_package</code> å®‰è£… app</li>
<li>å¦‚æœä¸Šé¢éƒ½æ²¡æœ‰å‡ºé”™ï¼Œåˆ™æ‰§è¡Œ <code>run_post_install_actions</code> æ–¹æ³•å¤„ç†å®‰è£…åçš„æ”¶å°¾å·¥ä½œï¼Œå¦‚æœæœ‰ä¸€æ­¥æŠ¥é”™ï¼Œåˆ™æ‰§è¡Œ <code>venv.remove_venv</code> åˆ é™¤è™šæ‹Ÿç›®å½•ã€‚ </li>
</ol>
<p><strong>æ³¨æ„</strong>ï¼šä¸Šé¢ 5ï¼Œ 6 ä¸¤æ­¥åœ¨ä¸Šä¸€ç¯‡ <code>run</code> å‘½ä»¤ä¸­å·²ç»æåˆ°è¿‡äº†ã€‚åªæ˜¯ <code>run</code> æ˜¯åœ¨ä¸€ä¸ªè·¯å¾„å¸¦ hash å€¼çš„ä¸´æ—¶è™šæ‹Ÿç›®å½•é‡Œå®‰è£…çš„ï¼ˆå‡è®¾ hash å€¼æ˜¯ abc æ—¶:<code>~/.local/pipx/.cache/abc</code>ï¼‰ï¼Œè€Œ <code>install</code> æ˜¯ä»¥ package_name å‘½åçš„è·¯å¾„å®‰è£…çš„: <code>~/.local/pipx/venvs/cowsay</code>ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2021/09/06/python/pipx_4/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/06/python/pipx_4/" data-id="ckz1glx980020a7n9av9o2hga" data-title="pipx æºç è§£æã€4ã€‘- pipx install" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/venv/" rel="tag">venv</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python/pipx_3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/03/python/pipx_3/" class="article-date">
  <time class="dt-published" datetime="2021-09-03T20:00:38.000Z" itemprop="datePublished">2021-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/03/python/pipx_3/">pipx æºç è§£æã€3ã€‘- pipx run</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="æ‰§è¡Œå‘½ä»¤"><a href="#æ‰§è¡Œå‘½ä»¤" class="headerlink" title="æ‰§è¡Œå‘½ä»¤"></a>æ‰§è¡Œå‘½ä»¤</h2><p>ä¸Šä¸€ç¯‡å­¦ä¹ äº†å¦‚ä½•è§£æå‚æ•°ï¼Œè¿™ä¸€ç¯‡ä¸»è¦å­¦ä¹ å¦‚ä½•æ‰§è¡Œå‘½ä»¤ã€‚<code>pipx</code> çš„å‘½ä»¤(command)åŒ…æ‹¬ <code>run</code>, <code>install</code>, <code>inject</code>, <code>upgrade</code>, <code>upgrade-all</code>, <code>list</code>, <code>uninstall</code>, <code>uninstall-all</code>, <code>reinstall</code>, <code>reinstall-all</code>ã€‚</p>
<p><code>run_pipx_command</code> ä½œä¸ºå‘½ä»¤çš„ä¸»å…¥å£ï¼Œå°†ä¸åŒçš„ command åˆ†é…ç»™ä¸åŒçš„æ¨¡å—å¤„ç†ã€‚å¤„ç† <code>run</code> å‘½ä»¤æ˜¯ <code>run.py</code>ã€‚</p>
<p>è¿™ç¯‡å°±å…ˆå­¦ä¸€ä¸ª <code>run</code>ï¼Œ æˆ‘ä¹Ÿå°†é€šè¿‡è®°å½•çŸ¥è¯†ç‚¹çš„æ–¹å¼å­¦ä¹ ã€‚</p>
<h2 id="çŸ¥è¯†ç‚¹ï¼šä¸‹è½½ç½‘ç»œæ–‡ä»¶"><a href="#çŸ¥è¯†ç‚¹ï¼šä¸‹è½½ç½‘ç»œæ–‡ä»¶" class="headerlink" title="çŸ¥è¯†ç‚¹ï¼šä¸‹è½½ç½‘ç»œæ–‡ä»¶"></a>çŸ¥è¯†ç‚¹ï¼šä¸‹è½½ç½‘ç»œæ–‡ä»¶</h2><p><code>run.py</code> é¦–å…ˆåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸º urlï¼Œä¸”ä»¥ <code>.py</code> ç»“å°¾ï¼Œå¦‚æœä¸ºçœŸå°±ç›´æ¥ä» url ä¸‹è½½è¿™ä¸ªæ–‡ä»¶:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">if</span> urllib.parse.urlparse(app).scheme:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> app.endswith(<span class="string">&quot;.py&quot;</span>):</span><br><span class="line">            <span class="keyword">raise</span> PipxError(</span><br><span class="line">                <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">                pipx will only execute apps from the internet directly if they</span></span><br><span class="line"><span class="string">                end with &#x27;.py&#x27;. To run from an SVN, try pipx --spec URL BINARY</span></span><br><span class="line"><span class="string">                &quot;&quot;&quot;</span></span><br><span class="line">            )</span><br><span class="line">        logger.info(<span class="string">&quot;Detected url. Downloading and executing as a Python file.&quot;</span>)</span><br><span class="line"></span><br><span class="line">        content = _http_get_request(app)</span><br><span class="line">        exec_app([<span class="built_in">str</span>(python), <span class="string">&quot;-c&quot;</span>, content])</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_http_get_request</span>(<span class="params">url: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = urllib.request.urlopen(url)</span><br><span class="line">        charset = res.headers.get_content_charset() <span class="keyword">or</span> <span class="string">&quot;utf-8&quot;</span></span><br><span class="line">        <span class="keyword">return</span> res.read().decode(charset)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        logger.debug(<span class="string">&quot;Uncaught Exception:&quot;</span>, exc_info=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">raise</span> PipxError(<span class="built_in">str</span>(e))</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ä¸‹è½½ç½‘ç»œæ–‡ä»¶ç”¨äº† <code>urllib.request.urlopen(url)</code> è¿™ä¸ªæ–¹æ³•ã€‚ä¸‹è½½å®Œæˆåè¿›å…¥ <code>exec_app</code> æ–¹æ³•ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2021/09/03/python/pipx_3/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/03/python/pipx_3/" data-id="ckz1glx94001wa7n9hga5c7le" data-title="pipx æºç è§£æã€3ã€‘- pipx run" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/venv/" rel="tag">venv</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python/pipx_2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/09/02/python/pipx_2/" class="article-date">
  <time class="dt-published" datetime="2021-09-02T23:00:17.000Z" itemprop="datePublished">2021-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/09/02/python/pipx_2/">pipx æºç è§£æã€2ã€‘- argparse æ¨¡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="å…¥å£å‡½æ•°-cli"><a href="#å…¥å£å‡½æ•°-cli" class="headerlink" title="å…¥å£å‡½æ•° cli"></a>å…¥å£å‡½æ•° <code>cli</code></h2><p>ç¬¬ä¸€ç¯‡è¯´åˆ° <code>__main__</code> å‡½æ•°ï¼Œé‡Œé¢æ‰§è¡Œçš„å°±æ˜¯å…¥å£å‡½æ•° <code>cli</code>ã€‚<code>cli</code> å‡½æ•°çš„é€»è¾‘å¦‚ä¸‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cli</span>() -&gt; ExitCode:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Entry point from command line&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># éšè—å…‰æ ‡</span></span><br><span class="line">        hide_cursor()</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å‘½ä»¤è¡Œå‚æ•°è§£æå™¨</span></span><br><span class="line">        parser = get_command_parser()</span><br><span class="line">        <span class="comment"># è‡ªåŠ¨è¡¥å…¨</span></span><br><span class="line">        argcomplete.autocomplete(parser)</span><br><span class="line">        <span class="comment"># è§£æå‘½ä»¤è¡Œå‚æ•°</span></span><br><span class="line">        parsed_pipx_args = parser.parse_args()</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å‡†å¤‡å·¥ä½œï¼ˆå»ºç«‹pipx å·¥ä½œç›®å½•ï¼Œé…ç½®æ—¥å¿—ï¼‰</span></span><br><span class="line">        setup(parsed_pipx_args)</span><br><span class="line">        <span class="comment"># æ£€æŸ¥å‚æ•°å‡†ç¡®æ€§</span></span><br><span class="line">        check_args(parsed_pipx_args)</span><br><span class="line">        <span class="comment"># å‘½ä»¤è¡Œå‚æ•°æ˜¯å¦æœ‰ command å‚æ•°</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> parsed_pipx_args.command:</span><br><span class="line">            parser.print_help()</span><br><span class="line">            <span class="keyword">return</span> ExitCode(<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">        <span class="keyword">return</span> run_pipx_command(parsed_pipx_args)</span><br><span class="line">        <span class="comment"># é”™è¯¯å¤„ç†</span></span><br><span class="line">    <span class="keyword">except</span> PipxError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(e), file=sys.stderr)</span><br><span class="line">        logger.debug(<span class="string">f&quot;PipxError: <span class="subst">&#123;e&#125;</span>&quot;</span>, exc_info=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> ExitCode(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        <span class="keyword">return</span> ExitCode(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        logger.debug(<span class="string">&quot;Uncaught Exception:&quot;</span>, exc_info=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">raise</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        logger.debug(<span class="string">&quot;pipx finished.&quot;</span>)</span><br><span class="line">        <span class="comment"># æ˜¾ç¤ºå…‰æ ‡</span></span><br><span class="line">        show_cursor()</span><br></pre></td></tr></table></figure>

<p>é‡Œé¢æ¯ä¸ªå‡½æ•°ä¸»è¦çš„åŠŸèƒ½éƒ½åšäº†æ³¨é‡Šï¼Œæœ€ä¸»è¦çš„å°±æ˜¯ <code>get_command_parser</code> å’Œ <code>run_pipx_command</code> ä¸¤ä¸ªå‡½æ•°ã€‚</p>
<p>è¿™ä¸€ç¯‡è¿™é‡Œå…ˆçœ‹ <code>get_command_parser</code> å‡½æ•°ï¼Œè¯¥åªæœ‰ä¸€ä¸ªä½œç”¨ï¼Œå°±æ˜¯è§£æå‘½ä»¤è¡Œå‚æ•°ã€‚ä¸»è¦æ¶‰åŠåˆ°äº† <code>argparse</code> æ¨¡å—çš„ä½¿ç”¨ï¼Œä¸‹é¢è¯¦ç»†è¯´æ˜ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2021/09/02/python/pipx_2/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/09/02/python/pipx_2/" data-id="ckz1glx93001sa7n91l62dfru" data-title="pipx æºç è§£æã€2ã€‘- argparse æ¨¡å—" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/venv/" rel="tag">venv</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python/pipx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/31/python/pipx/" class="article-date">
  <time class="dt-published" datetime="2021-08-31T21:33:17.000Z" itemprop="datePublished">2021-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/31/python/pipx/">pipx æºç è§£æã€1ã€‘</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="pipx-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#pipx-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="pipx æ˜¯ä»€ä¹ˆï¼Ÿ"></a>pipx æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><a target="_blank" rel="noopener" href="https://github.com/pypa/pipx">pipx</a> æ˜¯ä¸€ä¸ª python åŒ…ç®¡ç†å·¥å…·ã€‚ä½†å’Œ <code>pip</code> åˆæœ‰åŒºåˆ«: <code>pip</code> ç®¡ç† python çš„ç±»åº“ï¼ˆlibrariesï¼‰å’Œåº”ç”¨ï¼ˆappsï¼‰ï¼Œè€Œ <code>pipx</code> ä¸“é—¨ç®¡ç† python çš„åº”ç”¨ï¼ˆappsï¼‰ï¼Œå¦å¤–åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ äº†ç¯å¢ƒéš”ç¦»çš„èƒ½åŠ›ã€‚æ€»ä½“ä¸Šæ¥è¯´æœ‰ç‚¹åƒ Mac ç³»ç»Ÿä¸Šçš„ <code>brew</code>ã€‚</p>
<p>ç±»åº“å’Œåº”ç”¨æ€ä¹ˆåŒºåˆ†ï¼Ÿæˆ‘ä¸ªäººç†è§£è¿™é‡Œçš„åº”ç”¨ä¸»è¦æŒ‡çš„æ˜¯å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œé‡Œæ‰§è¡Œçš„è„šæœ¬ï¼Œä¹Ÿå°±æ˜¯å‘å¸ƒæ—¶ä¼šåœ¨ <code>setup.py</code> å†™å…¥ <code>console_scripts</code> å­—æ®µçš„ python åº“( å®‰è£…åç”Ÿæˆäº†å¯æ‰§è¡Œè„šæœ¬å¹¶æ”¾å…¥ <code>bin</code> æ–‡ä»¶å¤¹)ã€‚ä¸¾ä¸ª ğŸŒ° ï¼Œæ¯”å¦‚ <code>pip</code>, <code>virtualenv</code> è¿™ç±»å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œçš„å°±æ˜¯åº”ç”¨ï¼Œè€Œ <code>numpy</code>, <code>pandas</code> è¿™ç±»åœ¨ä»£ç ä¸­ import çš„åˆ™å±äºç±»åº“ã€‚å¦å¤– <code>pipx</code> è‡ªå·±æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªåº”ç”¨ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ç”¨éš”ç¦»ç¯å¢ƒæ¥å•ç‹¬ç®¡ç†åº”ç”¨å‘¢ï¼Ÿæˆ‘èƒ½æƒ³åˆ°å¾ˆæ˜æ˜¾çš„ä¸€ä¸ªåŸå› æ˜¯å„ä¸ªåº”ç”¨ä¾èµ–çš„ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚ä¸¾ä¸ª ğŸŒ° ï¼Œéœ€è¦å…¨å±€å®‰è£…åº”ç”¨ A å’Œ åº”ç”¨ Bï¼Œ A å’Œ B éƒ½ä¾èµ–æŸä¸€ä¸ªç±»åº“ Cï¼Œä½†ä¾èµ–çš„ç‰ˆæœ¬ä¸ä¸€æ ·ï¼ŒA ä¾èµ– C=1.0ï¼ŒB ä¾èµ– C=2.0ã€‚å¦‚æœå…ˆè£…äº† Aï¼Œåœ¨æ²¡æœ‰ç¯å¢ƒéš”ç¦»çš„æƒ…å†µä¸‹ï¼Œå…¨å±€çš„ <code>site-package</code> ä¸‹é¢ä¼šæœ‰ C=1.0 çš„ç‰ˆæœ¬ï¼Œè¿™æ—¶å¦‚æœæˆ‘å†å®‰è£… Bï¼Œå› ä¸º B ä¾èµ– C=2.0ï¼Œæ‰€ä»¥å®‰è£…å®Œæˆåä¼šå°†å…¨å±€ <code>site-package</code> é‡Œçš„ C=1.0 æ›¿æ¢ä¸º C=2.0ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ A æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p>
<p>æ›´è¯¦ç»†çš„å¯ä»¥å‚ç…§ <code>pipx</code> çš„<a target="_blank" rel="noopener" href="https://pypa.github.io/pipx/">æ–‡æ¡£</a></p>
        
          <p class="article-more-link">
            <a href="/2021/08/31/python/pipx/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/08/31/python/pipx/" data-id="ckz1glx91001oa7n9fw281rfe" data-title="pipx æºç è§£æã€1ã€‘" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/venv/" rel="tag">venv</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-python/records" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/21/python/records/" class="article-date">
  <time class="dt-published" datetime="2021-08-21T18:55:00.000Z" itemprop="datePublished">2021-08-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/21/python/records/">python records æºç è§£æ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="æ€»è§ˆ"><a href="#æ€»è§ˆ" class="headerlink" title="æ€»è§ˆ"></a>æ€»è§ˆ</h2><p><a target="_blank" rel="noopener" href="https://github.com/kennethreitz/records">records</a> åº“æ˜¯ python å¤§ç¥ kennethreitz å†™çš„ä¸€ä¸ª <code>SQL for Human</code> çš„ python åº“ï¼Œæ„åœ¨è®©ä¹¦å†™ sql æ›´åŠ çš„ä¾¿æ·å’Œäººæ€§åŒ–ã€‚</p>
<p>ä» README é‡Œå¯ä»¥çœ‹å‡º <code>records</code> æ˜¯å¯¹ <code>sqlalchemy</code> å’Œ <code>tablist</code> çš„ä¸€å±‚åŒ…è£…ï¼Œæ‰€ä»¥é˜…è¯»æºç ä¸»è¦æ˜¯å­¦ä¹ ä½œè€… <code>pythonic</code> çš„ä»£ç ç¼–å†™æ€ç»´ã€‚</p>
<p><strong>æ‰€ä»¥æœ¬æ–‡ä¸ä¼šçº ç»“äºæºç çš„å…·ä½“é€»è¾‘ï¼Œé‡ç‚¹æ˜¯å­¦ä¹ ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œä¸‹é¢çš„æ¯ä¸€æ®µéƒ½ä¼šé’ˆå¯¹æˆ‘è§‰å¾—å€¼å¾—å€Ÿé‰´å’Œå­¦ä¹ çš„æŸä¸€ä¸ªçŸ¥è¯†ç‚¹æ¥åšè®°å½•</strong>ã€‚</p>
<h2 id="1-å¦‚ä½•è®©ä»£ç æ—¢èƒ½ç”¨åš-module-åˆå¯ä»¥è¢«ç›´æ¥æ‰§è¡Œ"><a href="#1-å¦‚ä½•è®©ä»£ç æ—¢èƒ½ç”¨åš-module-åˆå¯ä»¥è¢«ç›´æ¥æ‰§è¡Œ" class="headerlink" title="1. å¦‚ä½•è®©ä»£ç æ—¢èƒ½ç”¨åš module åˆå¯ä»¥è¢«ç›´æ¥æ‰§è¡Œ"></a>1. å¦‚ä½•è®©ä»£ç æ—¢èƒ½ç”¨åš module åˆå¯ä»¥è¢«ç›´æ¥æ‰§è¡Œ</h2><p>å¦‚æœæ˜¯ç›´æ¥æ‰§è¡Œ <code>records.py</code>, åˆ™ä¼šè¿›å…¥ä¸‹é¢çš„å‡½æ•°ï¼Œåœ¨ <code>cli()</code> æ–¹æ³•å†…éƒ¨ä½¿ç”¨äº† <code>docopt</code> æ¥è§£æå‘½ä»¤è¡Œå‚æ•°ã€‚<code>docopt</code> çš„ä½¿ç”¨å¯ä»¥å‚è€ƒä¹‹å‰çš„çš„æ–‡ç«  <a target="_blank" rel="noopener" href="https://chrishchen.github.io/2019/10/26/python/envoy/">envoy æºç è§£æ</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Run the CLI when executed directly.</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    cli()</span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a href="/2021/08/21/python/records/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/08/21/python/records/" data-id="ckz1glx9c0028a7n9efag5xyv" data-title="python records æºç è§£æ" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">æ•°æ®åº“</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-others/reverse_proxy" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/12/others/reverse_proxy/" class="article-date">
  <time class="dt-published" datetime="2021-02-12T07:30:20.000Z" itemprop="datePublished">2021-02-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/12/others/reverse_proxy/">ä»€ä¹ˆæ˜¯åå‘ä»£ç†</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="æ­£å‘ä»£ç†"><a href="#æ­£å‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†"></a>æ­£å‘ä»£ç†</h2><p>é¦–å…ˆå›é¡¾ä¸‹æˆ‘ä»¬æœ€å¸¸è§çš„ä»£ç†: æ­£å‘ä»£ç†ã€‚</p>
<p>æˆ‘ä»¬å¸¸è¯´çš„ä»£ç†ä¹Ÿå°±æ˜¯æŒ‡æ­£å‘ä»£ç†ï¼Œæ­£å‘ä»£ç†çš„è¿‡ç¨‹ï¼Œå®ƒéšè—äº†çœŸå®çš„è¯·æ±‚å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯ä¸çŸ¥é“çœŸå®çš„å®¢æˆ·ç«¯æ˜¯è°ï¼Œå®¢æˆ·ç«¯è¯·æ±‚çš„æœåŠ¡éƒ½è¢«ä»£ç†æœåŠ¡å™¨ä»£æ›¿æ¥è¯·æ±‚ï¼ŒæŸäº›ç§‘å­¦ä¸Šç½‘å·¥å…·æ‰®æ¼”çš„å°±æ˜¯å…¸å‹çš„æ­£å‘ä»£ç†è§’è‰²ã€‚ç”¨æµè§ˆå™¨è®¿é—®</p>
<p><img src="https://pic1.zhimg.com/80/v2-07ededff1d415c1fa2db3fd89378eda0_720w.jpg?source=1940ef5c"></p>
<h2 id="æ­£å‘ä»£ç†çš„å®ç°"><a href="#æ­£å‘ä»£ç†çš„å®ç°" class="headerlink" title="æ­£å‘ä»£ç†çš„å®ç°"></a>æ­£å‘ä»£ç†çš„å®ç°</h2>
        
          <p class="article-more-link">
            <a href="/2021/02/12/others/reverse_proxy/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/12/others/reverse_proxy/" data-id="ckz1glx8w001ba7n91k8aay0g" data-title="ä»€ä¹ˆæ˜¯åå‘ä»£ç†" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ngix/" rel="tag">ngix</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-algorithm/regular_expression_matching" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/01/20/algorithm/regular_expression_matching/" class="article-date">
  <time class="dt-published" datetime="2021-01-20T10:32:00.000Z" itemprop="datePublished">2021-01-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/01/20/algorithm/regular_expression_matching/">æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² Â sÂ  å’Œä¸€ä¸ªå­—ç¬¦è§„å¾‹ Â pï¼Œè¯·ä½ æ¥å®ç°ä¸€ä¸ªæ”¯æŒ â€˜.â€™Â  å’Œ Â â€˜*â€˜Â  çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚</p>
<p>â€˜.â€™ åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦<br>â€˜*â€˜ åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„é‚£ä¸€ä¸ªå…ƒç´ <br>æ‰€è°“åŒ¹é…ï¼Œæ˜¯è¦æ¶µç›– Â  æ•´ä¸ª Â  å­—ç¬¦ä¸² Â s çš„ï¼Œè€Œä¸æ˜¯éƒ¨åˆ†å­—ç¬¦ä¸²ã€‚</p>
<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>é¦–å…ˆçŠ¶æ€ dp ä¸€å®šèƒ½è‡ªå·±æƒ³å‡ºæ¥ã€‚<br>dp[i][j] è¡¨ç¤º s çš„å‰ i ä¸ªæ˜¯å¦èƒ½è¢« p çš„å‰ j ä¸ªåŒ¹é…</p>
<ol>
<li><p>å¦‚æœ p.charAt(j) == s.charAt(i) : dp[i][j] = dp[i-1][j-1]ï¼›</p>
</li>
<li><p>å¦‚æœ p.charAt(j) == â€˜.â€™ : dp[i][j] = dp[i-1][j-1]ï¼›</p>
</li>
<li><p>å¦‚æœ p.charAt(j) == â€˜*â€˜ï¼š</p>
<ul>
<li>å¦‚æœ p.charAt(j-1) != s.charAt(i) : dp[i][j] = dp[i][j-2] // in this case, a* only counts as empty</li>
<li>å¦‚æœ p.charAt(j-1) == s.charAt(i) or p.charAt(i-1) == â€˜.â€™ï¼š<ul>
<li>dp[i][j] = dp[i-1][j] //in this case, a* counts as multiple a</li>
<li>or dp[i][j] = dp[i][j-1] // in this case, a* counts as single a</li>
<li>or dp[i][j] = dp[i][j-2] // in this case, a* counts as empty</li>
</ul>
</li>
</ul>
</li>
</ol>
        
          <p class="article-more-link">
            <a href="/2021/01/20/algorithm/regular_expression_matching/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/01/20/algorithm/regular_expression_matching/" data-id="ckz1glx880004a7n963lf8nh0" data-title="æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8A%9B%E6%89%A3/" rel="tag">åŠ›æ‰£</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-algorithm/string_2_interge" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/08/20/algorithm/string_2_interge/" class="article-date">
  <time class="dt-published" datetime="2020-08-20T11:30:00.000Z" itemprop="datePublished">2020-08-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/20/algorithm/string_2_interge/">å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>è¯·ä½ æ¥å®ç°ä¸€ä¸ªÂ myAtoi(string s)Â å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ atoi å‡½æ•°ï¼‰ã€‚</p>
<p>å‡½æ•°Â myAtoi(string s) çš„ç®—æ³•å¦‚ä¸‹ï¼š</p>
<p>è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼</p>
<p>æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚</p>
<p>è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚</p>
<p>å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œâ€123â€ -&gt; 123ï¼Œ â€œ0032â€ -&gt; 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º 0 ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚</p>
<p>å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ [âˆ’231,Â  231Â âˆ’ 1] ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº âˆ’2<sup>31</sup> çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º âˆ’2<sup>31</sup> ï¼Œå¤§äº 2<sup>31</sup>Â âˆ’ 1 çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º 2<sup>31</sup>Â âˆ’ 1 ã€‚</p>
<p>è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚</p>
        
          <p class="article-more-link">
            <a href="/2020/08/20/algorithm/string_2_interge/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/08/20/algorithm/string_2_interge/" data-id="ckz1glx8a0006a7n9c41z4zum" data-title="å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8A%9B%E6%89%A3/" rel="tag">åŠ›æ‰£</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-algorithm/reverse_integer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/07/08/algorithm/reverse_integer/" class="article-date">
  <time class="dt-published" datetime="2020-07-08T12:30:00.000Z" itemprop="datePublished">2020-07-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/08/algorithm/reverse_integer/">æ•´æ•°åè½¬</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>è¿™æ˜¯ leetcode ä¸Šä¸€é“éš¾åº¦ä¸ºç®€å•çš„ç®—æ³•é¢˜ï¼š</p>
<p>ç»™ä½ ä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•° x ï¼Œè¿”å›å°† x ä¸­çš„æ•°å­—éƒ¨åˆ†åè½¬åçš„ç»“æœã€‚<br>å¦‚æœåè½¬åæ•´æ•°è¶…è¿‡ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´Â <code>[âˆ’2<sup>31</sup>,Â  2<sup>31</sup>Â âˆ’ 1] </code>ï¼Œå°±è¿”å› 0ã€‚</p>
<p>è™½ç„¶æ˜¯ä¸€ä¸ªç®€å•é¢˜ï¼Œä½†å¦‚æœä½ å¯¹ python çš„è´Ÿæ•°å–ä½™å’Œæ•´æ•°é™¤æ³•ä¸ç†Ÿæ‚‰çš„è¯ï¼Œå¾ˆå®¹æ˜“è¸©å‘ğŸ™‚ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2020/07/08/algorithm/reverse_integer/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/07/08/algorithm/reverse_integer/" data-id="ckz1glx890005a7n908fm0qut" data-title="æ•´æ•°åè½¬" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8A%9B%E6%89%A3/" rel="tag">åŠ›æ‰£</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ </a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css-in-js/" rel="tag">css-in-js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ngix/" rel="tag">ngix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service-worker/" rel="tag">service-worker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/venv/" rel="tag">venv</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%9B%E6%89%A3/" rel="tag">åŠ›æ‰£</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%90%E8%BF%9B%E7%A8%8B/" rel="tag">å­è¿›ç¨‹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">æ•°æ®åº“</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">æœºå™¨å­¦ä¹ </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" rel="tag">æºç è§£æ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ç®—æ³•</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/css-in-js/" style="font-size: 10px;">css-in-js</a> <a href="/tags/javascript/" style="font-size: 12px;">javascript</a> <a href="/tags/ngix/" style="font-size: 10px;">ngix</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/service-worker/" style="font-size: 12px;">service-worker</a> <a href="/tags/venv/" style="font-size: 16px;">venv</a> <a href="/tags/webpack/" style="font-size: 14px;">webpack</a> <a href="/tags/%E5%8A%9B%E6%89%A3/" style="font-size: 18px;">åŠ›æ‰£</a> <a href="/tags/%E5%AD%90%E8%BF%9B%E7%A8%8B/" style="font-size: 10px;">å­è¿›ç¨‹</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">æ•°æ®åº“</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">æœºå™¨å­¦ä¹ </a> <a href="/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" style="font-size: 14px;">æºç è§£æ</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 18px;">ç®—æ³•</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/09/14/python/pipx_5/">pipx æºç è§£æã€5ã€‘- pipx inject</a>
          </li>
        
          <li>
            <a href="/2021/09/06/python/pipx_4/">pipx æºç è§£æã€4ã€‘- pipx install</a>
          </li>
        
          <li>
            <a href="/2021/09/03/python/pipx_3/">pipx æºç è§£æã€3ã€‘- pipx run</a>
          </li>
        
          <li>
            <a href="/2021/09/02/python/pipx_2/">pipx æºç è§£æã€2ã€‘- argparse æ¨¡å—</a>
          </li>
        
          <li>
            <a href="/2021/08/31/python/pipx/">pipx æºç è§£æã€1ã€‘</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Chris Chen<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>